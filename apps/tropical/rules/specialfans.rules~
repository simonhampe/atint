USE fan

# @category Tropical geometry
# Creates the linear tropical space L^n_k. This tropical fan is defined in the following way: 
# As rays we take -e_i,i=1,...,n, where e_i is the i-th standard basis vector of R^n and 
# e_0 = e_1 + ... + e_n. As maximal cones we take the cones generated by rays {e_i, i in S}, where
# S runs over all k-element subsets of {0,..,n}.
# @param Int n The ambient dimension of the fan.
# @param Int k The dimension of the fan (should be smaller equal n, otherwise an error is thrown).
# @return A PolyhedralFan object representing L^n_k
user_function tropical_lnk {
 my($n,$k) = @_; 
 
 if($k > $n) {
    die "Error creating L^n_k: Fan dimension is larger than ambient dimension";
 }
 
 #Create rays
 
 my $raymatrix = new Matrix<Rational>(0,$n);
 my $e0 = new Vector<Rational>($n);
 for my $i (1 .. $n) {
    my $v = new Vector<Rational>(unit_vector($n,$i));
    $n = $n + $v;
    $raymatrix = $raymatrix / ( - $v);	
 }
 $raymatrix = $raymatrix / $e0;
 
 #Create maximal cones
 
 my $minimalNon = 0;
 my @S = ();
 
 
 
}